---
phase: 06-production-deploy
plan: 01
type: execute
---

<objective>
Ship the BizBot overhaul. Final production build, live verification across all 3 modes, eval logging, and project close-out.

Purpose: Confirm the fully-overhauled BizBot is live and performing at target metrics, then close the project with documented results.
Output: Live verified BizBot at vanderdev.net, eval history logged, project docs finalized (STATE.md 100%, ROADMAP complete, RESUME.md created).
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/ISSUES.md

# Auto-selected based on dependency graph:
@.planning/phases/05-integration-testing/05-01-SUMMARY.md
@.planning/phases/00-audit-baseline/00-01-SUMMARY.md

# Key files from frontmatter:
@/root/vanderdev-website/src/pages/BizBot.jsx
@/root/vanderdev-website/src/components/bizbot/LicenseFinder.jsx

**Baseline metrics (Phase 0):**
- Audit overall: 74/100 (DB 100, URL 60, Webhook 70, Knowledge 100, UI 42)
- Eval: 94.3% coverage (29S/4A/2W)

**Current metrics (Phase 5):**
- Eval: 100% coverage (29S/6A/0W) — zero regressions
- Webhook: 100/100 (all 3 endpoints healthy)
- UI parity: ~90% (5/6 shared components)

**Constraining decisions:**
- Production-first: all code already on VPS via SSH
- Last BizBot VPS commit: d46a660 (Phase 5 back buttons fix) — already built and deployed
- VPS has unrelated uncommitted changes (WaterBot, KiddoBot files) — DO NOT touch those

**Open issues (all LOW, none for this phase):**
- ISS-002: Cross-industry general licenses not auto-included
- ISS-003: City/county-specific license data not seeded
- ISS-004: External POST blocked by nginx WAF (workaround exists)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Final production build and smoke test</name>
  <files>/root/vanderdev-website/dist/</files>
  <action>
    1. SSH to VPS and run a clean production build:
       `ssh vps "cd /root/vanderdev-website && npm run build"`
       Build MUST succeed with zero errors. Warnings about unused vars or dependencies are acceptable.

    2. Verify the build output exists and nginx is serving it:
       `ssh vps "ls -la /root/vanderdev-website/dist/index.html"`
       `curl -s -o /dev/null -w '%{http_code}' https://vanderdev.net`
       Must return 200.

    3. Verify BizBot page is accessible:
       `curl -s https://vanderdev.net/bizbot | head -20`
       Must return HTML (SPA will serve index.html for /bizbot route).

    4. Verify all 3 webhook endpoints respond (internal check via SSH):
       `ssh vps "docker exec -i n8n-n8n-1 wget -qO- --post-data='{\"message\":\"smoke test\"}' --header='Content-Type: application/json' --header='X-Bot-Token: test' http://localhost:5678/webhook/bizbot 2>&1 | head -5"`
       Must return a response (not connection refused or 404).

    DO NOT commit anything. DO NOT modify any files. This task is read-only verification.
    DO NOT touch the unrelated uncommitted changes (N8nStatus, ServerStatus, FundingNavigator, etc.).
  </action>
  <verify>
    - `npm run build` exits 0
    - `curl https://vanderdev.net` returns 200
    - BizBot route serves HTML
    - Webhook smoke test returns response
  </verify>
  <done>Production build confirmed green, live site serving, webhooks responding</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Final production BizBot with all overhaul changes: refreshed knowledge base, 5-step License Finder wizard, shared markdown rendering, source pills, back buttons</what-built>
  <how-to-verify>
    1. Visit: https://vanderdev.net/bizbot
    2. **Just Chat mode:** Click blue "Just Chat" card → send "What licenses do I need to open a restaurant in Sacramento?" → verify markdown-formatted response with source pills
    3. **Guided Setup mode:** Click orange "Guided Setup" card → complete a few intake form steps → verify wizard navigation works (next/back)
    4. **License Finder mode:** Click green "License Finder" card → select "Food & Beverage" → select entity type → select city → advance through wizard → verify results display with summary dashboard, collapsible phase groups, and cost ranges
    5. **Cross-mode:** From License Finder results, click the "Chat with BizBot" CTA → verify it switches to chat mode with business context pre-filled
    6. Confirm: No console errors, no broken layouts, markdown renders correctly, back buttons visible on all wizard steps
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Final eval, history logging, and project close-out</name>
  <files>.planning/STATE.md, .planning/ROADMAP.md</files>
  <action>
    1. Run embedding eval against live BizBot to capture final metrics:
       Use the bot-eval skill or run the eval script directly:
       `cd ~/.claude/commands/bot-eval && python3 scripts/run_eval.py --bot bizbot --mode embedding --core`
       Record results. Must maintain: coverage >= 94.3% (Phase 0 baseline), WEAK = 0.

    2. Log eval results to refresh history:
       `python3 ~/.claude/commands/bot-refresh/scripts/track-history.py --bot bizbot --event overhaul-complete --scores "coverage:100,strong:29,acceptable:6,weak:0,webhook:100"`
       (Adjust scores to match actual eval output from step 1.)

    3. Update .planning/STATE.md:
       - Current Position → "Phase: 6 of 6 (Production Deploy) — Complete"
       - Progress → "██████████ 100%"
       - Add Phase 6 completion timestamp
       - Add final metrics comparison table (Phase 0 → Phase 5 → Phase 6 Final)

    4. Update .planning/ROADMAP.md progress table:
       - Phase 5 row: `1/1 | Complete | 2026-02-15`
       - Phase 6 row: `1/1 | Complete | [today's date]`

    DO NOT modify PROJECT.md (it's the original scope doc, not a living status doc).
    DO NOT create a RESUME.md — the SUMMARY.md output handles project close-out documentation.
  </action>
  <verify>
    - Eval results show coverage >= 94.3%, WEAK = 0
    - track-history.py logged successfully
    - STATE.md shows 100% progress
    - ROADMAP.md shows all phases complete
  </verify>
  <done>Final eval logged, STATE at 100%, ROADMAP fully checked off, project formally complete</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] VPS build succeeds without errors
- [ ] Live site at vanderdev.net serves BizBot correctly
- [ ] All 3 modes verified working in browser (human checkpoint)
- [ ] Final eval shows zero regressions from Phase 5 baseline
- [ ] Eval history logged for future `/bot-refresh` trend tracking
- [ ] STATE.md shows 100% completion
- [ ] ROADMAP.md progress table fully updated
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Live BizBot at vanderdev.net verified by human
- Final eval metrics meet or exceed Phase 0 baseline (94.3% coverage)
- Project docs updated to reflect completion
- Phase 6 complete = BizBot Overhaul complete
</success_criteria>

<output>
After completion, create `.planning/phases/06-production-deploy/06-01-SUMMARY.md`:

# Phase 6 Plan 1: Production Deploy Summary

**[Substantive one-liner about final state]**

## Accomplishments

- [Build + deploy verification]
- [Live site verification]
- [Final eval results]
- [History logging]

## Final Metrics Comparison

| Metric | Phase 0 Baseline | Phase 5 Post-Test | Phase 6 Final |
|--------|-----------------|-------------------|---------------|
| Coverage | 94.3% | 100.0% | [result] |
| STRONG | 29 | 29 | [result] |
| ACCEPTABLE | 4 | 6 | [result] |
| WEAK | 2 | 0 | [result] |
| Webhook Score | 70 | 100 | [result] |
| UI Parity | 42% | ~90% | [result] |

## Files Created/Modified

- `.planning/STATE.md` — Updated to 100% complete
- `.planning/ROADMAP.md` — All phases marked complete

## Decisions Made

[Any final decisions, or "None"]

## Issues Remaining (Post-Overhaul)

- ISS-002: Cross-industry general licenses (enhancement)
- ISS-003: City/county license data (data enrichment)
- ISS-004: WAF blocks external webhook POST (infrastructure)

## Project Close-Out

BizBot Overhaul: [start date] → [end date]
Total phases executed: 6 (1 skipped)
Total plans executed: [count]
</output>
