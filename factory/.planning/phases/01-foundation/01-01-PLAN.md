---
phase: 01-foundation
plan: 01
type: execute
---

<objective>
Create the factory directory structure, README, and environment configuration.

Purpose: Establish the home directory that all subsequent phases build into. Every factory artifact — scripts, templates, n8n JSON — lives here.
Output: Complete directory tree with README.md documenting the factory's purpose and usage, plus .env.example for database credentials.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

**Constraining decisions:** None (first phase, first plan)

**Factory location:** `/Users/slate/Documents/GitHub/CA-AIDev/factory/`
**Adjacent projects for reference:**
- WaterBot: `/Users/slate/Documents/GitHub/CA-AIDev/waterbot/`
- ECOS: `/Users/slate/Documents/GitHub/Automation/ECOS/`
- vanderdev-website: `/Users/slate/Documents/GitHub/vanderdev-website/`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create factory directory tree and .env.example</name>
  <files>
    factory/templates/bot/.gitkeep,
    factory/templates/form/.gitkeep,
    factory/templates/knowledge/.gitkeep,
    factory/templates/gsd/.gitkeep,
    factory/templates/decks/.gitkeep,
    factory/scripts/.gitkeep,
    factory/n8n-templates/.gitkeep,
    factory/.env.example
  </files>
  <action>
    Create the full directory structure:
    ```
    factory/
    ├── templates/
    │   ├── bot/           # Bot track boilerplate (Phase 5)
    │   ├── form/          # Form track boilerplate (Phase 2)
    │   ├── knowledge/     # Knowledge document templates (Plan 01-03)
    │   ├── gsd/           # GSD roadmap templates (Phase 2)
    │   └── decks/         # Presentation markdown templates (Phase 3)
    ├── scripts/           # Shared RAG pipeline tooling (Plan 01-02)
    ├── n8n-templates/     # Importable workflow JSON (Phase 4)
    └── .env.example       # DB credential template
    ```

    Use .gitkeep files for empty directories that will be populated in later phases.

    `.env.example` must contain:
    ```
    # Database connection (VPS PostgreSQL via Tailscone)
    DB_HOST=100.x.x.x
    DB_PORT=5432
    DB_NAME=postgres
    DB_USER=postgres
    DB_PASSWORD=

    # OpenAI (for embeddings)
    OPENAI_API_KEY=

    # Project-specific
    PROJECT_SCHEMA=
    PROJECT_NAME=
    ```

    NEVER include real credentials — placeholders only. Comment each section.
  </action>
  <verify>
    ```bash
    # All directories exist
    ls -la factory/templates/bot/ factory/templates/form/ factory/templates/knowledge/ factory/templates/gsd/ factory/templates/decks/ factory/scripts/ factory/n8n-templates/

    # .env.example exists and contains no real credentials
    cat factory/.env.example
    grep -c "=" factory/.env.example  # Should show placeholder count
    ```
  </verify>
  <done>All 7 subdirectories exist. .env.example has DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASSWORD, OPENAI_API_KEY, PROJECT_SCHEMA, PROJECT_NAME as placeholder keys with no real values.</done>
</task>

<task type="auto">
  <name>Task 2: Create factory README.md</name>
  <files>factory/README.md</files>
  <action>
    Write a comprehensive README documenting:

    1. **What this is** — A factory for California government automation projects (bots + forms)
    2. **The pipeline** — research → presentations → knowledge base → build → deploy → final decks
    3. **Two tracks** — Bot track (chatbots like WaterBot) and Form track (workflow apps like ECOS)
    4. **Directory layout** — What each subdirectory contains and which phase populates it
    5. **Quick start** — How to use the factory (pointer to `/gov-factory:new-project` skill, coming in Phase 7)
    6. **Scripts** — Brief description of each script in `scripts/` (chunk, embed, validate, migrate) with usage examples
    7. **Templates** — What templates are available and how they're used
    8. **Infrastructure** — VPS target (vanderdev.net), Supabase stack, n8n instance, pgvector
    9. **Standards** — Schema naming (`{schema}.document_chunks`), embedding model (text-embedding-3-small, 1536d), knowledge doc format

    Keep it practical — this is a reference for the developer (you), not marketing copy. Use code blocks for usage examples. Reference the .env.example for credential setup.

    Do NOT include sections for content that doesn't exist yet (no n8n template docs, no scaffold usage). Mark those sections with "[Phase N]" placeholders so they can be filled in later.
  </action>
  <verify>
    ```bash
    # README exists and has substance
    wc -l factory/README.md  # Should be 80-150 lines
    head -5 factory/README.md  # Confirms title
    ```
  </verify>
  <done>README.md exists with all 9 sections. Directory layout matches actual structure. Scripts section has usage examples for chunk/embed/validate. "[Phase N]" placeholders mark future content.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All 7 subdirectories exist under factory/
- [ ] .env.example has all required placeholder keys, zero real credentials
- [ ] README.md is comprehensive and accurate to current state
- [ ] `git status` shows only new files (no unintended modifications)
</verification>

<success_criteria>

- Factory directory tree matches approved plan structure
- .env.example documents all required credentials
- README.md serves as useful reference for the factory
- All files committed
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
