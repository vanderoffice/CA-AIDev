---
phase: 02-scaffolder
plan: 02
type: execute
---

<objective>
Create GSD roadmap templates for both bot and form tracks — pre-built 9-phase roadmaps ready for `/gsd:create-roadmap` or direct copy into a new project's .planning/ directory.

Purpose: Every new project starts with a proven phase structure instead of reinventing the build sequence. Bot roadmap generalizes WaterBot's actual build phases; form roadmap generalizes ECOS's actual build phases.
Output: bot-ROADMAP.md and form-ROADMAP.md in factory/templates/gsd/
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan in this phase:
@.planning/phases/02-scaffolder/02-01-SUMMARY.md

# Phase 1 context (factory standards):
@.planning/phases/01-foundation/01-01-SUMMARY.md
@.planning/phases/01-foundation/01-02-SUMMARY.md
@.planning/phases/01-foundation/01-03-SUMMARY.md

# Reference roadmaps — the REAL projects these templates generalize from:
@/Users/slate/Documents/GitHub/CA-AIDev/waterbot/.planning/ROADMAP.md
@/Users/slate/Documents/GitHub/Automation/ECOS/.planning/ROADMAP.md

# Factory README for pipeline context:
@factory/README.md

# Approved plan spec for Phase 2 (roadmap phase details):
@/Users/slate/.claude/plans/wondrous-moseying-kazoo.md

**Tech stack available:** markdown, GSD conventions
**Established patterns:**
- GSD ROADMAP.md format: Overview, Domain Expertise, Phases checklist, Phase Details sections
- Phase details: Goal, Depends on, Research (Likely/Unlikely), Research topics, Plans list
- Progress table at bottom
- Decimal phase numbering for urgent insertions

**Constraining decisions:**
- [01-02]: RAG pipeline scripts use CLI flags (--schema, --knowledge-dir, etc.)
- [01-03]: Knowledge authoring standard: 7-field YAML frontmatter, H2 = chunk boundary
- [PROJECT.md]: Two tracks: bot + form. 9 phases each per approved plan.
- [PROJECT.md]: Every project produces dual decks (stakeholder + technical) via /deck
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create bot-ROADMAP.md template</name>
  <files>factory/templates/gsd/bot-ROADMAP.md</files>
  <action>
Create a 9-phase GSD roadmap template for bot-track projects at factory/templates/gsd/bot-ROADMAP.md.

**Use {{PLACEHOLDER}} markers** for project-specific values:
- {{PROJECT_TITLE}} — display name (e.g., "Water Rights Assistant")
- {{PROJECT_NAME}} — slug (e.g., "waterbot")
- {{SCHEMA_NAME}} — Supabase schema (e.g., "waterbot")
- {{DOMAIN}} — domain description (e.g., "California water rights")

**9 phases (from approved plan spec):**

1. **Domain Research** — Multi-perspective research using /gov-factory:research-domain skill (5 subagent perspectives). Produces stakeholder brief + developer assessment + Memory entities.
   - Depends on: Nothing
   - Research: Likely (this IS the research phase)
   - Plans: 2-3 (one per research perspective group)

2. **Research Presentations** — Generate stakeholder + technical decks from research findings using /deck.
   - Depends on: Phase 1
   - Research: Unlikely
   - Plans: 2 (one per deck)

3. **Knowledge Base** — Author knowledge documents from research assessment. Convert research findings into chunk-friendly markdown following factory/templates/knowledge/TEMPLATE.md standard.
   - Depends on: Phase 1
   - Research: Unlikely
   - Plans: 2-4 (one per knowledge domain area, varies by project)

4. **RAG Pipeline** — Chunk knowledge docs, embed via OpenAI, validate with quality gate. Uses factory/scripts/ pipeline.
   - Depends on: Phase 3
   - Research: Unlikely (using established factory scripts)
   - Plans: 1-2

5. **Decision Trees** — Create interactive decision tree JSON for domain-specific tools (permit finders, eligibility checkers, etc.). Follow factory/templates/knowledge/decision-tree-schema.json.
   - Depends on: Phase 3
   - Research: Unlikely
   - Plans: 1-3 (one per decision tree)

6. **n8n Workflows** — Import and parameterize n8n workflow templates (chat webhook, RAG orchestrator, tool webhook). Connect to {{SCHEMA_NAME}}.document_chunks.
   - Depends on: Phase 4
   - Research: Unlikely (using factory n8n-templates/)
   - Plans: 2

7. **Frontend** — Create bot page component in vanderdev-website SPA. Includes BotModeSelector, DecisionTreeView, BotChatInterface, RAGButton. Follow WaterBot quality standard.
   - Depends on: Phase 5, Phase 6
   - Research: Unlikely
   - Plans: 2-3

8. **Integration & Testing** — Wire frontend to n8n webhooks, end-to-end RAG test, decision tree integration, tool webhook testing.
   - Depends on: Phase 7
   - Research: Unlikely
   - Plans: 2

9. **Deploy & Final Decks** — Deploy to vanderdev.net VPS, seed production data, regenerate both presentation decks with live demo screenshots and real metrics.
   - Depends on: Phase 8
   - Research: Unlikely
   - Plans: 2-3

**Format the template** following the exact GSD ROADMAP.md structure seen in the factory's own .planning/ROADMAP.md:
- `## Overview` section with pipeline description
- `## Domain Expertise` section (empty — populated per project)
- `## Phases` checklist (all unchecked)
- `## Phase Details` with each phase's Goal/Depends on/Research/Plans
- `## Progress` table

**Execution order note:** Phases 1 is first, then 2+3 can parallel, 4 after 3, 5 parallel with 4, 6 after 4, 7 after 5+6, 8 after 7, 9 last.

Include a comment block at the top of the file:
```
<!-- Factory bot-track roadmap template. Copy to .planning/ROADMAP.md and replace {{placeholders}}. -->
```
  </action>
  <verify>
File exists. Contains all 9 phases. Contains {{PROJECT_TITLE}}, {{PROJECT_NAME}}, {{SCHEMA_NAME}}, {{DOMAIN}} placeholders. Follows GSD ROADMAP.md structure (Overview, Phases checklist, Phase Details, Progress table).
  </verify>
  <done>bot-ROADMAP.md template exists with 9 phases, correct placeholders, and GSD-standard structure</done>
</task>

<task type="auto">
  <name>Task 2: Create form-ROADMAP.md template</name>
  <files>factory/templates/gsd/form-ROADMAP.md</files>
  <action>
Create a 9-phase GSD roadmap template for form-track projects at factory/templates/gsd/form-ROADMAP.md.

**Same {{PLACEHOLDER}} markers** as bot template.

**9 phases (from approved plan spec):**

1. **Domain Research** — Multi-perspective research on regulatory requirements, legal framework, stakeholder analysis. Uses /gov-factory:research-domain skill.
   - Depends on: Nothing
   - Research: Likely
   - Plans: 2-3

2. **Research Presentations** — Generate stakeholder + technical decks from research findings using /deck.
   - Depends on: Phase 1
   - Research: Unlikely
   - Plans: 2

3. **Database Design** — Supabase schema creation, table migrations, RLS policies, audit trail setup. Schema: {{SCHEMA_NAME}}.
   - Depends on: Phase 1
   - Research: Unlikely (following ECOS patterns)
   - Plans: 2-3

4. **API Layer** — Supabase PostgREST client setup, data access functions, authentication integration.
   - Depends on: Phase 3
   - Research: Unlikely
   - Plans: 1-2

5. **Core UI** — Layout shell, navigation, form components. React + Tailwind following vanderdev.net design system.
   - Depends on: Phase 4
   - Research: Unlikely
   - Plans: 2-3

6. **Workflow Engine** — State machine for form workflow, role-based actions, status transitions, approval chains.
   - Depends on: Phase 5
   - Research: Unlikely
   - Plans: 2-3

7. **Business Logic** — Domain-specific validation rules, computed fields, compliance checks, reporting.
   - Depends on: Phase 6
   - Research: Unlikely
   - Plans: 2-3

8. **Containerization** — Dockerfile (multi-stage), docker-compose.prod.yml, nginx.conf, build-time env vars.
   - Depends on: Phase 7
   - Research: Unlikely (following ECOS Docker patterns)
   - Plans: 1-2

9. **Deploy, Demo & Final Decks** — VPS deployment, demo data seeding, nginx-proxy config, regenerate both decks with live demo and real metrics.
   - Depends on: Phase 8
   - Research: Unlikely
   - Plans: 2-3

**Format:** Same GSD ROADMAP.md structure as bot template.

**Execution order note:** Strictly sequential (1→2→3→...→9). Forms have tighter coupling between phases than bots.

Include same comment block at top:
```
<!-- Factory form-track roadmap template. Copy to .planning/ROADMAP.md and replace {{placeholders}}. -->
```
  </action>
  <verify>
File exists. Contains all 9 phases. Contains {{PROJECT_TITLE}}, {{PROJECT_NAME}}, {{SCHEMA_NAME}}, {{DOMAIN}} placeholders. Follows GSD ROADMAP.md structure.
  </verify>
  <done>form-ROADMAP.md template exists with 9 phases, correct placeholders, and GSD-standard structure</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] bot-ROADMAP.md exists in factory/templates/gsd/
- [ ] form-ROADMAP.md exists in factory/templates/gsd/
- [ ] Both have 9 phases with Goal/Depends on/Research/Plans structure
- [ ] Both use consistent {{PLACEHOLDER}} naming matching scaffold.sh's substitution markers
- [ ] Both follow GSD ROADMAP.md format (Overview, Phases, Phase Details, Progress)
- [ ] Phase dependencies are correctly specified
- [ ] Research flags are appropriate (Phase 1 = Likely, others = Unlikely)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Both templates are self-contained (copyable to .planning/ROADMAP.md)
- Placeholder names match scaffold.sh's sed substitution set
- Phase structure reflects proven patterns from WaterBot and ECOS
- Phase 2 complete
</success_criteria>

<output>
After completion, create `.planning/phases/02-scaffolder/02-02-SUMMARY.md`
</output>
